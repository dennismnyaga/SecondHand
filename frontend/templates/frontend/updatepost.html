{% extends 'frontend/main.html' %}
{% load static %}
{% block content %}
<div class="container updater">
  <div class="d-flex justify-content-center h-100">
    {% if user.id == product.poster.id %}
  <div class="user-card">
    <div class="d-flex justify-content-center">
      <h3 id="form-title">Update This Product</h3>
    </div>
    <div class="d-flex justify-content-center form_container">

      <form method="POST" action="">
        {%csrf_token%}
        <div class="fom">
          <div class="col-span-2">
              <label for="">Product name</label>
              <input  type="text" value="{{ product.product_name }}" name="product_name" class="shadow-none bg-gray-100 form-control form-control-lg">
          </div>
          <div class="col-span-2" id="form">
              <label for="">Product Image</label>
              <img style="height: 220px; width:200px" src="{{product.thumbnail.url}}" alt="" class="mb-3">
              <span>Change Image</span>
              <input type="file" name="thumbnail" id="image"  onchange="image_Select()">
              <!-- <input required name="images" type="file" multiple > -->
              <!-- <input type="file" name="thumbnail" id="image"  onchange="image_Select()">
              <button class="btn btn-sm btn-primary" type="button" onclick="document.getElementById('image').click()">Choose Images</button>
              <div class="d-flex flex-wrap justify-content-start mt-3" id="con">
                  
              </div>   -->
          </div>
          <hr>
          <div class="col-span-2">
              <label for="">Price</label>
              <input type="number" value="{{product.price}}" name="price" class="shadow-none bg-gray-100 form-control form-control-lg">
          </div>
          <hr>
              <div class="col-span-2">
                  <div class="col-span-2">
                      <label>Select a category</label>
                          <select name="category"  class="form-control">
                              <option value='none'>{{ product.category }}</option>
      
                              {% for category in categories %}
                              <option value='{{category.id}}'>{{category.name}}</option>
                              {% endfor %}
                          </select>
                  </div>
              </div>
              <hr>
              <div class="col-span-2">
                  <label for="">Expected Sales Date</label>
                  <input type="datetime" value="{{product.expected_sales_date}}" name="expected_sales_date" class="shadow-none bg-gray-100 form-control form-control-lg">
              </div>
              <hr>
              <div class="col-span-2">
                  <label for="">Current Bid</label>
                  <input type="number" value="{{product.price}}" name="current_bid" class="shadow-none bg-gray-100 form-control form-control-lg">
              </div>
              <hr>
              <div class="col-span-2">
                  <label for="">Describe Your Product</label>
                  <input required value="{{product.description}}" name="description" type="text" placeholder="Enter a description"
                  class="form-control">
                  <!-- <textarea name="details" id="" ></textarea> -->
              </div>
              <hr>
              <div class="col-span-2" id="form">
                  <label for="">images</label>
                  <!-- <input required name="images" type="file" multiple > -->
                  <input type="file" name="images" id="imag" class="d-none" multiple onchange="image_Selector()">
                  <button class="btn btn-sm btn-primary" type="button" onclick="document.getElementById('imag').click()">Choose Images</button>
                  <div class="d-flex flex-wrap justify-content-start mt-3" id="conn">
                   
                    <div class="row" id="al">
                      {% for image in images %}
                      <div class="col">
                        <img style="height: 100px; width: 100px" src="{{ image.image.url }}" alt="">
                      </div>  
                      {% endfor %}
                    
                    </div>
                  </div>  
              </div>
              <hr>
  </div>
        <div class="d-flex justify-content-center mt-3 login_container">
        <button class="btn btn-outline-success"  name="submit">Update</button>
        <a class="btn btn-outline-info ms-2" href="{% url 'frontend:details'  product.id %}">Cancel</a>
        </div>
      </form>
    </div>  
  </div>
  {% else %}
  <h1>{{user.id}} == {{product.poster.id}}</h1>
        <h1>You Should not be here</h1>
  {% endif %}
</div>
  </div>
</div>

{% endblock %}